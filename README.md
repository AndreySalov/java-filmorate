# java-filmorate

 ![bd_sheme](https://github.com/AndreySalov/java-filmorate/assets/122516524/78be952c-7762-4ee1-8b84-9c8a213d9c22)

## Описание базы данных  

### films 


Содержит данные о фильмах.  
Таблица включает следующие поля:  
* первичный ключ __film_id__ - идентификатор фильма;  
* name - название фильма;  
* description - описание фильма;  
* внешний ключ mpa_id (отсылает к таблице ratings) - рейтинг ассоциации кинокомпаний  
* release_date - дата выхода;  
* duration - продолжительность фильма.  

### genre  
Содержит данные о жанрах.  
Таблица включает следующие поля:
* первичный ключ __genre_id__ - идентификатор жанра;
* name - название жанра, например:
  - Комедия,
  - Драма,
  - Мультфильм,
  - Триллер,
  - Документальный,
  - Боевик.  

### films_generes
Содержит данные о жанрах.  
Таблица включает следующие поля:
* внешний ключ (часть составного ключа) genre_id (отсылает к таблице genres) - идентификатор жанра;
* внешний ключ (часть составного ключа) film_id (отсылает к таблице films) - идентификатор фильма.  

### mpa  
* первичный ключ __mpa_id__ - идентификатор рейтинга;
* name - название рейтинга, например:
  - G — у фильма нет возрастных ограничений,
  - PG — детям рекомендуется смотреть фильм с родителями,
  - PG-13 — детям до 13 лет просмотр не желателен,
  - R — лицам до 17 лет просматривать фильм можно только в присутствии взрослого,
  - NC-17 — лицам до 18 лет просмотр запрещён.  

### users  
Содержит данные о пользователях.  
Таблица включает следующие поля:
* первичный ключ __user_id__ - идентификатор пользователя;  
* email - почта пользователя;  
* login - логин пользователя;  
* name - имя пользователя;  
* birthday - день рождения пользователя.  

### likes  
Содержит данные о лайках.  
Таблица включает следующие поля:
* внешний ключ (часть составного ключа) user_id (отсылает к таблице users) - идентификатор пользователя, поставившего лайк;
* внешний ключ (часть составного ключа) film_id (отсылает к таблице films) - идентификатор фильма, которому поставлен лайк.  

### friends  
Содержит данные о статусе дружбы.  
Таблица включает следующие поля:
* внешний ключ (часть составного ключа) OUTGOING_USER_ID (отсылает к таблице users) - идентификатор пользователя;  
* внешний ключ (часть составного ключа) INCOMING_USER_ID (отсылает к таблице users) - идентификаторы друзей пользователя.

## Примеры запросов для основных операций  

### создание пользователя:
```
INSERT INTO users (email, login, name, birthday)
VALUES ( ?, ?, ?, ? );
```
### Получение всех пользователей:  

```
SELECT *  
FROM users
```  

### Получение всех фильмов:  

```
SELECT *
FROM films  
```  
